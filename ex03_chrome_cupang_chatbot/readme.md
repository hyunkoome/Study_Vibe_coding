# 쿠팡 리뷰 크롤러 & 챗봇 확장 프로그램

## 주요 기능

### 1. 리뷰 크롤링 기능
- 쿠팡 상품 페이지에서 모든 리뷰를 자동으로 크롤링
- 리뷰 본문, 작성자, 날짜, 평점 정보 수집
- 페이지네이션을 통한 전체 리뷰 수집
- 진행상황 실시간 표시

### 2. 카카오톡 스타일 챗봇 기능 ✨ NEW!
- 하단 우측에 플로팅 챗봇 아이콘 표시
- 카카오톡과 유사한 채팅 인터페이스
- 상품 관련 질문에 대한 지능형 응답
- 타이핑 애니메이션 및 부드러운 전환 효과

## 챗봇 기능 상세

### 지원하는 질문 유형
- **상품 관련**: "이 상품에 대해 알려줘"
- **가격 관련**: "가격이 얼마인가요?"
- **배송 관련**: "배송은 언제 되나요?"
- **리뷰 관련**: "리뷰를 보고 싶어요"
- **환불/교환**: "환불이 가능한가요?"
- **인사**: "안녕하세요"

### 챗봇 사용법
1. 쿠팡 상품 페이지 접속
2. 하단 우측의 💬 아이콘 클릭
3. 챗봇 창이 열리면 질문 입력
4. 엔터키 또는 전송 버튼으로 메시지 전송

## 설치 및 사용법

### 1. Chrome 확장 프로그램 설치
- Chrome 브라우저에서 `chrome://extensions` 접속
- 개발자 모드 활성화
- "압축해제된 확장 프로그램을 로드합니다" 클릭
- `src` 폴더 선택

### 2. 사용 방법
1. 쿠팡 상품 페이지로 이동
2. 확장 프로그램 아이콘 클릭
3. "리뷰 크롤링 시작" 버튼 클릭
4. 챗봇 사용 시 하단 우측 아이콘 클릭

## 파일 구조

```
src/
├── manifest.json          # 확장 프로그램 설정
├── content.js             # 페이지 주입 스크립트 (크롤링 + 챗봇)
├── popup.html             # 팝업 UI
├── popup.js               # 팝업 로직
├── background.js          # 백그라운드 스크립트
├── chatbot.html           # 챗봇 HTML (독립 실행용)
├── chatbot.css            # 챗봇 스타일
├── chatbot.js             # 챗봇 로직 (독립 실행용)
└── assets/
    └── xlsx.full.min.js   # 엑셀 내보내기 라이브러리
```

## 기술 스택

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Chrome Extension API**: Manifest V3
- **스타일링**: 카카오톡 디자인 시스템 참고
- **애니메이션**: CSS3 Transitions & Keyframes

## 개발 이력

### 초기 개발
```bash
크롬 확장 프로그램을 이용해서 쿠팡 홈페이지의 리뷰를 크롤링 하려고 해.
@https://www.coupang.com/vp/products/8289316403?itemId=23097750172&searchId=f3089c0a6ba84f6c813d1cfa1fda1cee&sourceType=brandstore_display_ads-carousel&storeId=109707&subSourceType=brandstore_display_ads-carousel&vendorId=A00160873&vendorItemId=3861532097

이거는 쿠팡 상품 페이지야. 홈페이지를 참고해서 먼저 크롬 확장 프로그램에 업로드를 할 수 있게 초안코드를 작성해줘.

코드는 @/ex03_chrome_cupang_chatbot의 src 폴더 안 에 작성해줘.

크롤링이 매우 잘 되었어. 그런데 나는 전체 리뷰를 크롤링 하고 싶어. 지금 기본 설정이 100개인데, 100개가 아니라 해당 상품 페이지의 총 상품평이 크롤링 되었으면 좋겠어
```

## 1. chrome 세팅
- 크롬의 url 입력창에 chrome://extensions 입력 후, 개발자 모드 on

## 2. GPT 에 기능 명세서 요청

``` bash
크롬 확장 프로그램으로 유투브 요약 프로그램을 만들려고 해.
다음과 같이 구현을 할꺼야.

1. 크롬 확장프로그램 아이콘을 누르면, 요약하기 버튼이 나와
2. 사용자가 요약하기 버튼을 누르면, 유투브 주소가 webhook 을 통해 전달
3. 전달된 webhook 요약본을 전달받게 됨
4. 전달 받은 요약본은 별도의 팝업 창이 뜨도록 해줘.

파일 기본 구조는 다음과 같아.
manifest.json
content.js
popup.html, popup.js
background.js

이 내용을 바탕으로 개발을 진행할 수 있도록 구제적이고 명확한 개발 기능 명세서를 만들어줘.

기능 명세서는 기본 파일구조와 주요기능 요구사항도 넣도록 해줘
```

```bash
webhook 이 지금 구현되어있지 않아서, 목업으로 요약버튼을 눌렀을때 가상으로 요약결과가 나오도록 설정을 해줘.
```

make 로 웹훅을 만든 뒤, 웹훅 주소를 복사하고..

```bash
이 웹훅 주소로 유투브 주소를 보낼거야. 목업으로 진행했던 부분들은 모두 삭제를 해줘.
```

make 의 GPT 세팅에서..
```bash

[역할(Role)]
너는 유투브 스크립트를 분석해 에피소드별(혹은 챕터별)로 정리하고, 10줄 안에 스토리텔링 형태로 요약해 주는 '요약 전문가'이다.

[목적(Objective)]
영상의 흐름을 자연스럽게 이어가되, 각 장(챕터)에서 핵심 내용을 간결하고 읽기 쉽게 전달하는 것을 목표로 한다.

[해야 할 일(Tasks)]
1) 스크립트를 에피소드나 챕터 단위로 구분한다.
2) 각 구간(단락)에서 주제, 핵심 주장, 근거를 빠르게 파악한다.
3) 10줄 내에 정리하되, 문장을 부드럽게 연결해 스토리텔링처럼 풀어쓴다.
4) 가독성을 위해 각 문장(줄)을 적절히 띄어쓰기를 해주고, 결론까지 깔끔히 마무리한다.

[간단한 예시(Example)]
1) 이 영상은 '창업 아이디어 발굴'을 주제로, 첫 챕터에서 '왜 창업이 중요한지' 문제를 제기한다.
2) 이어서는 '아이디어 선정 방식'을 구체적으로 안내하고, 성공한 스타트업 사례를 통해 설득력을 더한다.
3) 다음 챕터에서는 실행 과정에서 벌어질 문제들을 드라마처럼 보여주며 시청자의 공감을 유도한다.
4) 마지막에는 '실패해도 다시 도전해야 한다'는 핵심 메세지로 열정을 북돋아주며 이야기를 마무리한다.
5) 결국 이 영상을 보면, 창업을 고민하는 사람들이 어떻게 시작을 해야하는지 큰 그림을 잡을 수 있다.

[참고 스크립트]

```

참고 스크립트 부분에.. subtitles->plaintxt 를 연결

OpenAI의 결과인 
Output -> Bundle 1Collection -> Result 를 복사해서

다시 cursor 에 개발 가이드 문의 

```bash
위 형태로 webhook 으로 부터 유투브 요약 자료를 받을거야.
json 형태로 받으려고 해. webhook 이 어떤 형태로 데이터를 전달하면 될까?

유투브 요약본만 전달을 하고 싶어

유투브 타이틀과, 요약본, 썸네일까지 전달을 하려고 해.
```

```bash
웹 훅으로 너가 제시한 하단 코드 포멧으로 응답 전달할거야. 

{
  "video_id": "abc123xyz",
  "title": "비디오 제목",
  "summary": "전체 요약 내용",
  "timestamp": "2024-01-15T10:30:00Z"
}

요약본을 아래 실제 샘플 데이터에 맞게 결과가 나오도록 구조를 정리를 해줘.

{"title":"해외 인기 1인칭 AI 쇼츠 자동화 제작하는 방법 (make.com 활용)","summary":"이 영상은 AI 쇼츠를 제작하는 과정을 메이크를 활용하여 설명하는 내용을 담고 있습니다. \n\n첫 번째 챕터에서는 메이크를 통해 AI 이미지를 생성하고, 이를 바탕으로 영상을 만드는 전체 작업 흐름을 소개합니다. 이어서, 에어테이블을 활용하여 데이터베이스를 구축하는 방법을 통해 주제와 관련된 데이터 구조를 설명합니다. 이를 통해 이미지, 비디오, 사운드 효과 생성에 필요한 데이터 필드를 설정하는 과정을 상세히 보여줍니다.\n\n다음 챕터에서는 시나리오에 따라 이미지를 선택하고 비디오를 요청하는 단계로 넘어가며, 자동화된 방식으로 비디오를 제작하는 과정을 소개합니다. 또한, 음향 효과와 BGM을 생성하는 과정을 통해 사운드 작업의 중요성을 강조하고, API 키 설정과 같은 세부 사항도 언급합니다.\n\n마지막 챕터에서는 생성된 파일을 구글 드라이브에 업로드하고, 편집 프로그램인 캡컷에서 최종 편집을 진행하는 모습을 보여줍니다. 이를 통해 다양한 콘텐츠가 어떻게 연결되고 자동화될 수 있는지를 논의하며, AI 쇼츠 제작의 가능성과 한계에 대해서도 마련된 메세지를 전합니다. 영상의 마무리는 AI 도구를 사용해 비즈니스에 가치를 더하는 방법을 제안하며, 시청자들에게 댓글 등의 피드백을 요청합니다. \n\n결국 이 영상을 통해, AI를 활용한 콘텐츠 제작의 전 과정을 한 눈에 익힐 수 있으며, 실질적인 작업 흐름을 이해할 수 있습니다.","video_id":"https://www.youtube.com/watch?v=8sSxPPr0w6g","thumbnail":"https://i.ytimg.com/vi/8sSxPPr0w6g/maxresdefault.jpg","timestamp":"2025-06-29T06:34:51.747Z"}
```